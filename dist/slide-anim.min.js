!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.slideAnim=e.slideAnim||{})}(this,function(e){"use strict";function t(e){var t=e.getAttribute("style")||"";e.style.position="absolute",e.style.visibility="hidden",e.style.display="block";var o=e.scrollHeight;return e.setAttribute("style",t),o}var o={_:[],add:function(e,t,i){o.remove(e),o._.push({el:e,timeoutId:t,onCancelled:i})},remove:function(e){var t=o.findIndex(e);if(-1!==t){var i=o._[t];clearTimeout(i.timeoutId),i.onCancelled(),o._.splice(t,1)}},findIndex:function(e){var t=-1;return o._.some(function(o,i){if(o.el===e)return t=i,!0}),t}},i="cubic-bezier( 0.19, 1, 0.22, 1 )";e.slideDown=function(e,n){if(-1===o.findIndex(e)){var r=e.getAttribute("style")||"",d=window.getComputedStyle(e),l=/border-box/.test(d.getPropertyValue("box-sizing")),s=+d.getPropertyValue("padding-top").replace(/px/,""),p=+d.getPropertyValue("padding-bottom").replace(/px/,""),a=+d.getPropertyValue("border-top-width").replace(/px/,""),y=+d.getPropertyValue("border-bottom-width").replace(/px/,""),u=t(e),b=n&&n.duration||400,c=b+"ms",m=i,g=["height "+c+" "+m,"padding "+c+" "+m,"border-width "+c+" "+m].join(),f=n&&n.onComplete||function(){},h=n&&n.onCancelled||function(){};requestAnimationFrame(function(){e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.borderTopWidth=0,e.style.borderBottomWidth=0,e.style.display="block",e.style.overflow="hidden",e.style.visibility="hidden",e.style.transition=g,e.style.webkitTransition=g,requestAnimationFrame(function(){var t=l?u+a+y:u-s-p;e.style.height=t+"px",e.style.paddingTop=s+"px",e.style.paddingBottom=p+"px",e.style.borderTopWidth=a+"px",e.style.borderBottomWidth=y+"px",e.style.visibility="visible"})});var x=setTimeout(function(){e.setAttribute("style",r),e.style.display="block",o.remove(e),f()},b);o.add(e,x,h)}},e.slideUp=function(e,t){if(-1===o.findIndex(e)){var n=e.getAttribute("style")||"",r=window.getComputedStyle(e),d=/border-box/.test(r.getPropertyValue("box-sizing")),l=+r.getPropertyValue("padding-top").replace(/px/,""),s=+r.getPropertyValue("padding-bottom").replace(/px/,""),p=+r.getPropertyValue("border-top-width").replace(/px/,""),a=+r.getPropertyValue("border-bottom-width").replace(/px/,""),y=e.scrollHeight,u=t&&t.duration||400,b=u+"ms",c=i,m=["height "+b+" "+c,"padding "+b+" "+c,"border-width "+b+" "+c].join(),g=t&&t.onComplete||function(){},f=t&&t.onCancelled||function(){};requestAnimationFrame(function(){var t=d?y+p+a:y-l-s;e.style.height=t+"px",e.style.paddingTop=l+"px",e.style.paddingBottom=s+"px",e.style.borderTopWidth=p+"px",e.style.borderBottomWidth=a+"px",e.style.overflow="hidden",e.style.transition=m,e.style.webkitTransition=m,requestAnimationFrame(function(){e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.borderTopWidth=0,e.style.borderBottomWidth=0})});var h=setTimeout(function(){e.setAttribute("style",n),e.style.display="none",o.remove(e),g()},u);o.add(e,h,f)}},Object.defineProperty(e,"__esModule",{value:!0})});
