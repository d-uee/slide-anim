!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.slideAnim={})}(this,function(t){"use strict";function e(t){return 0!==t.offsetHeight}function o(t){t.style.visibility="",t.style.height="",t.style.paddingTop="",t.style.paddingBottom="",t.style.borderTopWidth="",t.style.borderBottomWidth="",t.style.overflow="",t.style.transition="",t.style.webkitTransition=""}var i={_:[],add:function(t,e,o,d){i.remove(t),i._.push({el:t,defaultStyle:e,timeoutId:o,onCancelled:d})},remove:function(t){var e=i.findIndex(t);if(-1!==e){var o=i._[e];clearTimeout(o.timeoutId),o.onCancelled(),i._.splice(e,1)}},find:function(t){return i._[i.findIndex(t)]},findIndex:function(t){var e=-1;return i._.some(function(o,i){if(o.el===t)return e=i,!0}),e}},d="cubic-bezier( 0.19, 1, 0.22, 1 )";t.slideDown=function(t,r){if(-1===i.findIndex(t)){var n=e(t),l=r&&"number"==typeof r.endHeight,p=r&&r.onComplete||function(){},s=r&&r.onCancelled||function(){},a=t.getAttribute("style")||"",y=window.getComputedStyle(t),u=function(t){var e=t.getAttribute("style")||"",o=window.getComputedStyle(t);t.style.visibility="hidden",t.style.display="block";var i=+o.getPropertyValue("width").replace(/px/,"");t.style.position="absolute",t.style.width=i+"px",t.style.height="",t.style.paddingTop="",t.style.paddingBottom="",t.style.borderTopWidth="",t.style.borderBottomWidth="";var d=+o.getPropertyValue("padding-top").replace(/px/,""),r=+o.getPropertyValue("padding-bottom").replace(/px/,""),n=+o.getPropertyValue("border-top-width").replace(/px/,""),l=+o.getPropertyValue("border-bottom-width").replace(/px/,""),p=t.scrollHeight;return t.setAttribute("style",e),{height:p,paddingTop:d,paddingBottom:r,borderTop:n,borderBottom:l}}(t),g=/border-box/.test(y.getPropertyValue("box-sizing")),h=u.height,b=u.paddingTop,m=u.paddingBottom,f=u.borderTop,c=u.borderBottom,x=r&&r.duration||400,v=x+"ms",T=["height "+v+" "+d,"padding "+v+" "+d,"border-width "+v+" "+d].join(),w=n?y.height:"0px",B=n?y.paddingTop:"0px",W=n?y.paddingBottom:"0px",P=n?y.borderTopWidth:"0px",V=n?y.borderBottomWidth:"0px",C=l?r.endHeight+"px":g?h+f+c+"px":h-b-m+"px",A=b+"px",_=m+"px",I=f+"px",k=c+"px";if(w!==C||B!==A||W!==_||P!==I||V!==k){requestAnimationFrame(function(){t.style.height=w,t.style.paddingTop=B,t.style.paddingBottom=W,t.style.borderTopWidth=P,t.style.borderBottomWidth=V,t.style.display="block",t.style.overflow="hidden",t.style.visibility="visible",t.style.transition=T,t.style.webkitTransition=T,requestAnimationFrame(function(){t.style.height=C,t.style.paddingTop=A,t.style.paddingBottom=_,t.style.borderTopWidth=I,t.style.borderBottomWidth=k})});var H=setTimeout(function(){o(t),t.style.display="block",l&&(t.style.height=r.endHeight+"px",t.style.overflow="hidden"),i.remove(t),p()},x);i.add(t,a,H,s)}else p()}},t.slideUp=function(t,r){if(-1===i.findIndex(t)){var n=e(t),l=r&&r.onComplete||function(){},p=r&&r.onCancelled||function(){};if(n){var s=t.getAttribute("style")||"",a=window.getComputedStyle(t),y=/border-box/.test(a.getPropertyValue("box-sizing")),u=+a.getPropertyValue("padding-top").replace(/px/,""),g=+a.getPropertyValue("padding-bottom").replace(/px/,""),h=+a.getPropertyValue("border-top-width").replace(/px/,""),b=+a.getPropertyValue("border-bottom-width").replace(/px/,""),m=t.scrollHeight,f=r&&r.duration||400,c=f+"ms",x=["height "+c+" "+d,"padding "+c+" "+d,"border-width "+c+" "+d].join(),v=y?m+h+b+"px":m-u-g+"px",T=u+"px",w=g+"px",B=h+"px",W=b+"px";requestAnimationFrame(function(){t.style.height=v,t.style.paddingTop=T,t.style.paddingBottom=w,t.style.borderTopWidth=B,t.style.borderBottomWidth=W,t.style.overflow="hidden",t.style.transition=x,t.style.webkitTransition=x,requestAnimationFrame(function(){t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0,t.style.borderTopWidth=0,t.style.borderBottomWidth=0})});var P=setTimeout(function(){o(t),t.style.display="none",i.remove(t),l()},f);i.add(t,s,P,p)}else l()}},t.slideStop=function(t){if(i.find(t)){var e=window.getComputedStyle(t),d=e.height,r=e.paddingTop,n=e.paddingBottom,l=e.borderTopWidth,p=e.borderBottomWidth;o(t),t.style.height=d,t.style.paddingTop=r,t.style.paddingBottom=n,t.style.borderTopWidth=l,t.style.borderBottomWidth=p,t.style.overflow="hidden",i.remove(t)}},t.isVisible=e,Object.defineProperty(t,"__esModule",{value:!0})});
