!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.slideAnim={})}(this,function(t){"use strict";function e(t){return 0!==t.offsetHeight}function o(t){t.style.visibility="",t.style.height="",t.style.paddingTop="",t.style.paddingBottom="",t.style.borderTopWidth="",t.style.borderBottomWidth="",t.style.overflow="",t.style.transition="",t.style.webkitTransition=""}function i(t){return+t.replace(/px/,"")}var n="function"==typeof Promise?Promise:function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(){};return e(function(){o()}),{then:function(t){o=t}}},d={_:[],add:function(t,e,o,i){d.remove(t),d._.push({el:t,defaultStyle:e,timeoutId:o,onCancelled:i})},remove:function(t){var e=d.findIndex(t);if(-1!==e){var o=d._[e];clearTimeout(o.timeoutId),o.onCancelled(),d._.splice(e,1)}},find:function(t){return d._[d.findIndex(t)]},findIndex:function(t){var e=-1;return d._.some(function(o,i){if(o.el===t)return e=i,!0}),e}},r="cubic-bezier( 0.19, 1, 0.22, 1 )";t.slideDown=function(t){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new n(function(n){if(l.onComplete&&console.warn("options.onComplete will be deprecated. use 'then' instead"),-1===d.findIndex(t)){var s=e(t),p="number"==typeof l.endHeight,a=l.display||"block",y=l.duration||400,u=l.onComplete||function(){},h=l.onCancelled||function(){},g=t.getAttribute("style")||"",f=window.getComputedStyle(t),m=function(t,e){var o=t.getAttribute("style")||"",n=window.getComputedStyle(t);t.style.visibility="hidden",t.style.display=e||"block";var d=i(n.getPropertyValue("width"));t.style.position="absolute",t.style.width=d+"px",t.style.height="",t.style.paddingTop="",t.style.paddingBottom="",t.style.borderTopWidth="",t.style.borderBottomWidth="";var r=i(n.getPropertyValue("padding-top")),l=i(n.getPropertyValue("padding-bottom")),s=i(n.getPropertyValue("border-top-width")),p=i(n.getPropertyValue("border-bottom-width")),a=t.scrollHeight;return t.setAttribute("style",o),{height:a,paddingTop:r,paddingBottom:l,borderTop:s,borderBottom:p}}(t,a),b=/border-box/.test(f.getPropertyValue("box-sizing")),c=m.height,v=m.paddingTop,w=m.paddingBottom,x=m.borderTop,T=m.borderBottom,B=y+"ms",W=["height "+B+" "+r,"padding "+B+" "+r,"border-width "+B+" "+r].join(),C=s?f.height:"0px",P=s?f.paddingTop:"0px",V=s?f.paddingBottom:"0px",A=s?f.borderTopWidth:"0px",_=s?f.borderBottomWidth:"0px",I=p?l.endHeight+"px":b?c+x+T+"px":c-v-w+"px",k=v+"px",H=w+"px",S=x+"px",j=T+"px";if(C===I&&P===k&&V===H&&A===S&&_===j)return u(),void n();requestAnimationFrame(function(){t.style.height=C,t.style.paddingTop=P,t.style.paddingBottom=V,t.style.borderTopWidth=A,t.style.borderBottomWidth=_,t.style.display=a,t.style.overflow="hidden",t.style.visibility="visible",t.style.transition=W,t.style.webkitTransition=W,requestAnimationFrame(function(){t.style.height=I,t.style.paddingTop=k,t.style.paddingBottom=H,t.style.borderTopWidth=S,t.style.borderBottomWidth=j})});var q=setTimeout(function(){o(t),t.style.display=a,p&&(t.style.height=l.endHeight+"px",t.style.overflow="hidden"),d.remove(t),u(),n()},y);d.add(t,g,q,h)}})},t.slideUp=function(t){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new n(function(n){if(l.onComplete&&console.warn("options.onComplete will be deprecated. use 'then' instead"),-1===d.findIndex(t)){var s=e(t),p=l.display||"block",a=l.duration||400,y=l.onComplete||function(){},u=l.onCancelled||function(){};if(!s)return y(),void n();var h=t.getAttribute("style")||"",g=window.getComputedStyle(t),f=/border-box/.test(g.getPropertyValue("box-sizing")),m=i(g.getPropertyValue("padding-top")),b=i(g.getPropertyValue("padding-bottom")),c=i(g.getPropertyValue("border-top-width")),v=i(g.getPropertyValue("border-bottom-width")),w=t.scrollHeight,x=a+"ms",T=["height "+x+" "+r,"padding "+x+" "+r,"border-width "+x+" "+r].join(),B=f?w+c+v+"px":w-m-b+"px",W=m+"px",C=b+"px",P=c+"px",V=v+"px";requestAnimationFrame(function(){t.style.height=B,t.style.paddingTop=W,t.style.paddingBottom=C,t.style.borderTopWidth=P,t.style.borderBottomWidth=V,t.style.display=p,t.style.overflow="hidden",t.style.transition=T,t.style.webkitTransition=T,requestAnimationFrame(function(){t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0,t.style.borderTopWidth=0,t.style.borderBottomWidth=0})});var A=setTimeout(function(){o(t),t.style.display="none",d.remove(t),y(),n()},a);d.add(t,h,A,u)}})},t.slideStop=function(t){if(d.find(t)){var e=window.getComputedStyle(t),i=e.height,n=e.paddingTop,r=e.paddingBottom,l=e.borderTopWidth,s=e.borderBottomWidth;o(t),t.style.height=i,t.style.paddingTop=n,t.style.paddingBottom=r,t.style.borderTopWidth=l,t.style.borderBottomWidth=s,t.style.overflow="hidden",d.remove(t)}},t.isVisible=e,Object.defineProperty(t,"__esModule",{value:!0})});
