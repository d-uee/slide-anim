!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.slideAnim={})}(this,function(t){"use strict";function e(t){return 0!==t.offsetHeight}function o(t){t.style.visibility="",t.style.height="",t.style.paddingTop="",t.style.paddingBottom="",t.style.borderTopWidth="",t.style.borderBottomWidth="",t.style.overflow="",t.style.transition="",t.style.webkitTransition=""}function i(t){return+t.replace(/px/,"")}var d={_:[],add:function(t,e,o,i){d.remove(t),d._.push({el:t,defaultStyle:e,timeoutId:o,onCancelled:i})},remove:function(t){var e=d.findIndex(t);if(-1!==e){var o=d._[e];clearTimeout(o.timeoutId),o.onCancelled(),d._.splice(e,1)}},find:function(t){return d._[d.findIndex(t)]},findIndex:function(t){var e=-1;return d._.some(function(o,i){if(o.el===t)return e=i,!0}),e}},n="cubic-bezier( 0.19, 1, 0.22, 1 )";t.slideDown=function(t,r){if(-1===d.findIndex(t)){var l=e(t),p=r&&"number"==typeof r.endHeight,s=r&&r.display||"block",y=r&&r.duration||400,a=r&&r.onComplete||function(){},u=r&&r.onCancelled||function(){},g=t.getAttribute("style")||"",h=window.getComputedStyle(t),b=function(t,e){var o=t.getAttribute("style")||"",d=window.getComputedStyle(t);t.style.visibility="hidden",t.style.display=e||"block";var n=i(d.getPropertyValue("width"));t.style.position="absolute",t.style.width=n+"px",t.style.height="",t.style.paddingTop="",t.style.paddingBottom="",t.style.borderTopWidth="",t.style.borderBottomWidth="";var r=i(d.getPropertyValue("padding-top")),l=i(d.getPropertyValue("padding-bottom")),p=i(d.getPropertyValue("border-top-width")),s=i(d.getPropertyValue("border-bottom-width")),y=t.scrollHeight;return t.setAttribute("style",o),{height:y,paddingTop:r,paddingBottom:l,borderTop:p,borderBottom:s}}(t,s),m=/border-box/.test(h.getPropertyValue("box-sizing")),f=b.height,c=b.paddingTop,x=b.paddingBottom,v=b.borderTop,T=b.borderBottom,w=y+"ms",B=["height "+w+" "+n,"padding "+w+" "+n,"border-width "+w+" "+n].join(),W=l?h.height:"0px",P=l?h.paddingTop:"0px",V=l?h.paddingBottom:"0px",C=l?h.borderTopWidth:"0px",A=l?h.borderBottomWidth:"0px",_=p?r.endHeight+"px":m?f+v+T+"px":f-c-x+"px",I=c+"px",H=x+"px",S=v+"px",k=T+"px";if(W!==_||P!==I||V!==H||C!==S||A!==k){requestAnimationFrame(function(){t.style.height=W,t.style.paddingTop=P,t.style.paddingBottom=V,t.style.borderTopWidth=C,t.style.borderBottomWidth=A,t.style.display=s,t.style.overflow="hidden",t.style.visibility="visible",t.style.transition=B,t.style.webkitTransition=B,requestAnimationFrame(function(){t.style.height=_,t.style.paddingTop=I,t.style.paddingBottom=H,t.style.borderTopWidth=S,t.style.borderBottomWidth=k})});var j=setTimeout(function(){o(t),t.style.display=s,p&&(t.style.height=r.endHeight+"px",t.style.overflow="hidden"),d.remove(t),a()},y);d.add(t,g,j,u)}else a()}},t.slideUp=function(t,r){if(-1===d.findIndex(t)){var l=e(t),p=r&&r.duration||400,s=r&&r.onComplete||function(){},y=r&&r.onCancelled||function(){};if(l){var a=t.getAttribute("style")||"",u=window.getComputedStyle(t),g=/border-box/.test(u.getPropertyValue("box-sizing")),h=i(u.getPropertyValue("padding-top")),b=i(u.getPropertyValue("padding-bottom")),m=i(u.getPropertyValue("border-top-width")),f=i(u.getPropertyValue("border-bottom-width")),c=t.scrollHeight,x=p+"ms",v=["height "+x+" "+n,"padding "+x+" "+n,"border-width "+x+" "+n].join(),T=g?c+m+f+"px":c-h-b+"px",w=h+"px",B=b+"px",W=m+"px",P=f+"px";requestAnimationFrame(function(){t.style.height=T,t.style.paddingTop=w,t.style.paddingBottom=B,t.style.borderTopWidth=W,t.style.borderBottomWidth=P,t.style.overflow="hidden",t.style.transition=v,t.style.webkitTransition=v,requestAnimationFrame(function(){t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0,t.style.borderTopWidth=0,t.style.borderBottomWidth=0})});var V=setTimeout(function(){o(t),t.style.display="none",d.remove(t),s()},p);d.add(t,a,V,y)}else s()}},t.slideStop=function(t){if(d.find(t)){var e=window.getComputedStyle(t),i=e.height,n=e.paddingTop,r=e.paddingBottom,l=e.borderTopWidth,p=e.borderBottomWidth;o(t),t.style.height=i,t.style.paddingTop=n,t.style.paddingBottom=r,t.style.borderTopWidth=l,t.style.borderBottomWidth=p,t.style.overflow="hidden",d.remove(t)}},t.isVisible=e,Object.defineProperty(t,"__esModule",{value:!0})});
